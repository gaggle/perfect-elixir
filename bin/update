#!/usr/bin/env bash
set -euo pipefail

source "$(dirname "$0")/.shhelpers"

branch="perfect-elixir-3-development-workflows-&-processes"

section "Integrating changesâ€¦"
check "Checking active branch" "[ \"$(git rev-parse --abbrev-ref HEAD)\" = \"$branch\" ]" "git checkout '${branch}'"
step "Pulling latest code" "git pull origin '$branch' --rebase"
step "Installing dependencies" "mix deps.get"
step "Compiling dependencies" "mix deps.compile"

bin/doctor
